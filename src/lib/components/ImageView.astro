---
import "src/app.css";

import Layout from "@layouts/ImageLayout.astro";
import { Picture, Image } from "astro:assets";

import HistorylessButton from "@lib/components/HistorylessButton.svelte";
import ChevronRight from "./icons/IconChevronRight.svelte";
import ChevronLeft from "./icons/IconChevronLeft.svelte";
import X from "./icons/IconX.svelte";
import a3 from "@assets/images/gfx/a3.png";

interface Props {
  id: string;
  prevId: string;
  nextId: string;
  image: any;
  backUrl: string;
}

const { id, image, prevId, nextId, backUrl } = Astro.props;
---

<Layout title=`Suurna Ã•unaaed - ${id}`>
  <div class="fixed inset-0 z-10 flex justify-center items-center">
    <!-- BG PATTERN -->
    <div class="bg-pattern absolute w-full h-full"></div>
    <!-- IMAGE -->
    <Picture
      src={image}
      formats={["avif", "webp"]}
      alt="A description of my image."
      class="object-cover w-full h-full"
      sizes="(min-width: 1024px) 1024px, 100vw"
    />
    <!-- BUTTONS -->
    <div class="fixed flex w-screen h-screen justify-between items-center">
      <HistorylessButton href=`./${prevId}` client:load><ChevronLeft class="size-10 mx-4" /></HistorylessButton>
      <HistorylessButton href=`./${nextId}` client:load><ChevronRight class="size-10 mx-4" /></HistorylessButton>
    </div>
    <div class="fixed flex w-screen h-screen justify-end items-start text-white text-2xl font-gelica pointer-events-none">
      <HistorylessButton href={backUrl} back client:load><X class="size-10" /></HistorylessButton>
    </div>
  </div>
</Layout>

<style define:vars={{ img: `url("${a3.src}")` }}>
  .bg-pattern {
    background: var(--img);
    background-size: 150px;
    background-position: center center;
    opacity: 0.4;
  }
</style>
